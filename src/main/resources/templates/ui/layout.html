<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head(pageTitle)">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title th:text="${pageTitle} + ' · Duel Tower'">Duel Tower</title>
  <link rel="icon" th:href="@{/favicon.ico}" />
  <link rel="stylesheet" th:href="@{/css/app.css}" />
  <script defer th:src="@{/js/app.js}"></script>
</head>

<body th:fragment="shell(active, page)">
<header class="topbar">
  <div class="brand">
    <div class="logo">DT</div>
    <div class="brandText">
      <div class="brandTitle">Duel Tower</div>
      <div class="brandSub">노드 탐색형 협동 턴제 카드 전투</div>
    </div>
  </div>

  <nav class="nav">
    <a class="navItem" th:classappend="${active}=='home' ? ' isActive'" th:href="@{/ui}">홈</a>
    <a class="navItem" th:classappend="${active}=='lobby' ? ' isActive'" th:href="@{/ui/lobby}">로비</a>
    <a class="navItem" th:classappend="${active}=='presets' ? ' isActive'" th:href="@{/ui/presets}">프리셋</a>
    <a class="navItem" th:classappend="${active}=='node' ? ' isActive'" th:href="@{/ui/node}">노드</a>
    <a class="navItem" th:classappend="${active}=='combat' ? ' isActive'" th:href="@{/ui/combat}">전투</a>
  </nav>

  <div class="topRight">
    <div class="pill" id="pillSession">세션: <span class="mono" data-bind="session.code">—</span></div>
    <div class="pill" id="pillPhase">상태: <span data-bind="session.phase">—</span></div>
  </div>
</header>

<main class="page" th:replace="${page}">page</main>

<footer class="footer">
  <div class="muted">UI 프로토타입 · 서버 권위 룰 엔진 붙이기 전 단계</div>
  <div class="muted mono">/ui</div>
</footer>

<div class="toast" id="toast" aria-live="polite"></div>
</body>
</html>
